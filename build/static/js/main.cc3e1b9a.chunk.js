(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,function(e,t,a){},function(e,t,a){},,,,,function(e,t,a){e.exports=a(19)},,,,,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),l=a(8),s=a.n(l),c=(a(17),a(18),a(5)),o=a(1);a(3);var i=function(e){return n.a.createElement("header",null,n.a.createElement("div",{className:"LeftTop"},n.a.createElement("img",{src:e.logo,alt:e.description})))};var u=function(e){return n.a.createElement("footer",null,n.a.createElement("p",null,e.copyright))};var m=function(e){return n.a.createElement("div",{className:"formContainer",id:e.id},e.children)};var p=function(e){return n.a.createElement("div",{className:"picContainer"},n.a.createElement("img",{src:e.image,alt:e.description}))};var d=function(e){return n.a.createElement("a",{href:e.link,onClick:e.fonction},n.a.createElement("button",null,e.text))};async function E(e,t){try{const r=new URLSearchParams;r.append("mail",e),r.append("motDePasse",t);const n=new URL("http://localhost:8080/login");n.search=r.toString();const l=await fetch(n,{method:"GET",mode:"cors",headers:{"Content-Type":"application/x-www-form-urlencoded"}});if(!l.ok){const e=await l.json();return void(e&&e.error?alert(e.error):alert("Oups... Quelque chose s'est mal pass\xe9"))}const s=await l.json();s&&s.error?alert(s.error):(localStorage.setItem("userData",JSON.stringify(s)),await async function(){try{const t=new URL("http://localhost:8080/types"),a=await fetch(t,{method:"GET",mode:"cors",headers:{"Content-Type":"application/x-www-form-urlencoded"}});if(!a.ok){const e=await a.json();return void(e&&e.error?alert(e.error):alert("Oups... Quelque chose s'est mal pass\xe9"))}const r=await a.json();r&&r.error?alert(r.error):localStorage.setItem("typeData",JSON.stringify(r))}catch(e){console.error("Error:",e),alert("Oups... Quelque chose s'est mal pass\xe9")}}(),await async function(){try{const t=new URL("http://localhost:8080/saisons"),a=await fetch(t,{method:"GET",mode:"cors",headers:{"Content-Type":"application/x-www-form-urlencoded"}});if(!a.ok){const e=await a.json();return void(e&&e.error?alert(e.error):alert("Oups... Quelque chose s'est mal pass\xe9"))}const r=await a.json();r&&r.error?alert(r.error):localStorage.setItem("saisonData",JSON.stringify(r))}catch(e){console.error("Error:",e),alert("Oups... Quelque chose s'est mal pass\xe9")}}(),window.location.href="/accueilFront")}catch(a){console.error("Error:",a),alert("Oups... Quelque chose s'est mal pass\xe9")}}async function h(e){try{const a=new URL("http://localhost:8080/parcellesuser?utilisateur="+e),r=await fetch(a,{method:"GET",mode:"cors",headers:{"Content-Type":"application/x-www-form-urlencoded"}});if(!r.ok){const e=await r.json();return void(e&&e.error?alert(e.error):alert("Oups... Quelque chose s'est mal pass\xe9"))}const n=await r.json();if(!n||!n.error)return n;alert(n.error)}catch(t){console.error("Error:",t),alert("Oups... Quelque chose s'est mal pass\xe9")}}async function f(e,t){try{const r=new URL("http://localhost:8080/parcellesculturespossibles?utilisateur="+e+"&parcelle="+t),n=await fetch(r,{method:"GET",mode:"cors",headers:{"Content-Type":"application/x-www-form-urlencoded"}});if(!n.ok){const e=await n.json();return void(e&&e.error?alert(e.error):alert("Oups... Quelque chose s'est mal pass\xe9"))}const l=await n.json();if(!l||!l.error)return l;alert(l.error)}catch(a){console.error("Error:",a),alert("Oups... Quelque chose s'est mal pass\xe9")}}async function g(){try{const t=new URL("http://localhost:8080/proprietaires"),a=await fetch(t,{method:"GET",mode:"cors",headers:{"Content-Type":"application/x-www-form-urlencoded"}});if(!a.ok){const e=await a.json();return void(e&&e.error?alert(e.error):alert("Oups... Quelque chose s'est mal pass\xe9"))}const r=await a.json();if(!r||!r.error)return r;alert(r.error)}catch(e){console.error("Error:",e),alert("Oups... Quelque chose s'est mal pass\xe9")}}async function w(e){try{const a=new URL("http://localhost:8080/usercultures?user="+e),r=await fetch(a,{method:"GET",mode:"cors",headers:{"Content-Type":"application/x-www-form-urlencoded"}});if(!r.ok){const e=await r.json();return void(e&&e.error?alert(e.error):alert("Oups... Quelque chose s'est mal pass\xe9"))}const n=await r.json();if(!n||!n.error)return n;alert(n.error)}catch(t){console.error("Error:",t),alert("Oups... Quelque chose s'est mal pass\xe9")}}async function v(){localStorage.clear(),window.location.replace("/")}var y=()=>{const[e,t]=Object(r.useState)({mail:"leTest@gmail.com",motDePasse:"test"}),a=a=>{const{name:r,value:n}=a.target;t({...e,[r]:n})};return Object(r.useEffect)(()=>{document.title="Se connecter"},[]),n.a.createElement("div",{className:"page"},n.a.createElement("a",{href:"/"},n.a.createElement(i,{logo:"/assets/img/PNG/Logo.png",description:"Logo"})),n.a.createElement("main",{className:"formClass"},n.a.createElement("section",{className:"left"},n.a.createElement("h1",null,"Se Connecter"),n.a.createElement("p",{className:"desc"},"Bienvenue sur Farm Game : le jeu de simulation de culture sur terrain.",n.a.createElement("br",null),"Sur ce site, vous \xeates libre de personnaliser votre exp\xe9rience \xe0 volont\xe9 en allant de cr\xe9er vos cultures jusqu\u2019\xe0",n.a.createElement("br",null),"interagir avec d\u2019autres utilisateurs."),n.a.createElement(m,null,n.a.createElement("form",{method:"get",className:"login",onSubmit:async t=>{t.preventDefault(),await E(e.mail,e.motDePasse)}},n.a.createElement("p",{className:"First"},"Mail : ",n.a.createElement("input",{type:"mail",name:"mail",value:e.mail,onChange:a})),n.a.createElement("p",null,"Mot de passe : ",n.a.createElement("input",{id:"pwd",type:"password",name:"motDePasse",value:e.motDePasse,onChange:a})),n.a.createElement("p",{className:"link"},n.a.createElement("a",{href:"/inscription"},"Vous n\u2019avez pas de compte ? Inscrivez-vous en appuyant ici")),n.a.createElement(d,{text:"Valider"})))),n.a.createElement("section",{className:"right",id:"picRight"},n.a.createElement(p,{image:"/assets/img/JPG/charmaine-jane-villanueva-asset.jpeg",description:"game"}))),n.a.createElement(u,{copyright:"\xa9 Tous droits r\xe9serv\xe9s. Farm Game 2024"}))};var N=()=>{const[e,t]=Object(r.useState)({nom:"",prenom:"",naissance:"",mail:"",mdp:"",pseudo:""}),a=a=>{const{name:r,value:n}=a.target;t({...e,[r]:n})};return Object(r.useEffect)(()=>{document.title="S'inscrire"},[]),n.a.createElement("div",{className:"page"},n.a.createElement("a",{href:"/"},n.a.createElement(i,{logo:"/assets/img/PNG/Logo.png",description:"Logo"})),n.a.createElement("main",{className:"formClass"},n.a.createElement("section",{className:"left"},n.a.createElement("h1",null,"S\u2019inscrire"),n.a.createElement("p",{className:"desc"},"Bienvenue sur Farm Game : le jeu de simulation de culture sur terrain.",n.a.createElement("br",null),"Inscrivez vous en remplissant les champs ci-dessous."),n.a.createElement(m,{id:"inscr"},n.a.createElement("form",{method:"post",className:"login",onSubmit:async t=>{t.preventDefault(),await async function(e,t,a,r,n,l){try{const c=new URLSearchParams;c.append("nom",e),c.append("prenom",t),c.append("naissance",a),c.append("mail",r),c.append("mdp",n),c.append("pseudo",l);const o=new URL("http://localhost:8080/insertUser");o.search=c.toString();const i=await fetch(o,{method:"POST",mode:"cors",headers:{"Content-Type":"application/x-www-form-urlencoded"}});if(!i.ok){const e=await i.json();return void(e&&e.error?alert(e.error):alert("Oups... Quelque chose s'est mal pass\xe9"))}const u=i.headers.get("content-type");if(u&&u.includes("application/json")){const e=await i.json();e&&e.error?alert(e.error):e&&e.success&&window.location.replace("/connexion")}else window.location.replace("/connexion")}catch(s){console.error("Error:",s),alert("Oups... Quelque chose s'est mal pass\xe9")}}(e.nom,e.prenom,e.naissance,e.mail,e.mdp,e.pseudo)}},n.a.createElement("p",{id:"First"},"Nom : ",n.a.createElement("input",{type:"text",name:"nom",value:e.nom,onChange:a})),n.a.createElement("p",null,"Pr\xe9nom : ",n.a.createElement("input",{id:"pr",type:"text",name:"prenom",value:e.prenom,onChange:a})),n.a.createElement("p",null,"Date de naissance : ",n.a.createElement("input",{id:"dN",type:"date",name:"naissance",value:e.naissance,onChange:a})),n.a.createElement("p",null,"Mail : ",n.a.createElement("input",{id:"ma",type:"mail",name:"mail",value:e.mail,onChange:a})),n.a.createElement("p",null,"Mot de passe : ",n.a.createElement("input",{id:"mdp",type:"password",name:"mdp",value:e.mdp,onChange:a})),n.a.createElement("p",null,"Pseudo : ",n.a.createElement("input",{id:"ps",type:"text",name:"pseudo",value:e.pseudo,onChange:a})),n.a.createElement(d,{text:"Valider"})))),n.a.createElement("section",{className:"right",id:"picRight"},n.a.createElement(p,{image:"/assets/img/JPG/charmaine-jane-villanueva-asset.jpeg",description:"game"}))),n.a.createElement(u,{copyright:"\xa9 Tous droits r\xe9serv\xe9s. Farm Game 2024"}))};var S=function(e){return n.a.createElement("header",{className:"header3"},n.a.createElement("div",{className:"LeftTop"},n.a.createElement("a",{href:e.link},n.a.createElement("img",{src:e.logo,alt:e.description}))),n.a.createElement("div",{className:"RightTop"},n.a.createElement(d,{link:e.lien,text:e.text2})))};a(4);var j=()=>{const[e,t]=Object(r.useState)(null),[a,l]=Object(r.useState)(null),[s,c]=Object(r.useState)(null),[o,i]=Object(r.useState)(null),[m,p]=Object(r.useState)(null),[E,h]=Object(r.useState)(null),[f,w]=Object(r.useState)(null),[v,y]=Object(r.useState)({selectedParcelle:"Tous",selectedType:"Tous",selectedProprietaire:"Tous"});Object(r.useEffect)(()=>{document.title="Accueil",(async()=>{try{const a=await async function(){try{const t=new URL("http://localhost:8080/cultures"),a=await fetch(t,{method:"GET",mode:"cors",headers:{"Content-Type":"application/x-www-form-urlencoded"}});if(!a.ok){const e=await a.json();return void(e&&e.error?alert(e.error):alert("Oups... Quelque chose s'est mal pass\xe9"))}const r=await a.json();if(!r||!r.error)return r;alert(r.error)}catch(e){console.error("Error:",e),alert("Oups... Quelque chose s'est mal pass\xe9")}}();t(a);const r=await async function(){try{const t=new URL("http://localhost:8080/types"),a=await fetch(t,{method:"GET",mode:"cors",headers:{"Content-Type":"application/x-www-form-urlencoded"}});if(!a.ok){const e=await a.json();return void(e&&e.error?alert(e.error):alert("Oups... Quelque chose s'est mal pass\xe9"))}const r=await a.json();if(!r||!r.error)return r;alert(r.error)}catch(e){console.error("Error:",e),alert("Oups... Quelque chose s'est mal pass\xe9")}}();l(r);const n=await g();c(n);const s=await async function(){try{const t=new URL("http://localhost:8080/parcelles"),a=await fetch(t,{method:"GET",mode:"cors",headers:{"Content-Type":"application/x-www-form-urlencoded"}});if(!a.ok){const e=await a.json();return void(e&&e.error?alert(e.error):alert("Oups... Quelque chose s'est mal pass\xe9"))}const r=await a.json();if(!r||!r.error)return r;alert(r.error)}catch(e){console.error("Error:",e),alert("Oups... Quelque chose s'est mal pass\xe9")}}();i(s);const o=await async function(){try{const t=new URL("http://localhost:8080/parcellescultures"),a=await fetch(t,{method:"GET",mode:"cors",headers:{"Content-Type":"application/x-www-form-urlencoded"}});if(!a.ok){const e=await a.json();return void(e&&e.error?alert(e.error):alert("Oups... Quelque chose s'est mal pass\xe9"))}const r=await a.json();if(!r||!r.error)return r;alert(r.error)}catch(e){console.error("Error:",e),alert("Oups... Quelque chose s'est mal pass\xe9")}}();p(o),h(a),w(o)}catch(e){console.error("Error fetching all culture:",e)}})()},[]);const N=e=>{const{name:t,value:a}=e.target;y(e=>({...e,[t]:a}))};return n.a.createElement("div",{className:"page"},n.a.createElement(S,{logo:"/assets/img/PNG/Logo.png",lien:"/connexion",text2:"Se connecter"}),n.a.createElement("main",{className:"Landing"},n.a.createElement("section",{className:"MidLeft2"},n.a.createElement("h1",{className:"title2"},"Liste des cultures"),n.a.createElement("p",{className:"desc2"},"Voici la liste des cultures avec leurs propri\xe9taires."),n.a.createElement("table",null,n.a.createElement("tr",null,n.a.createElement("th",null,"Culture"),n.a.createElement("th",null,"Type"),n.a.createElement("th",null,"Saison"),n.a.createElement("th",null,"Prix d'achat(en Ar)"),n.a.createElement("th",null,"Prix de vente(en Ar)"),n.a.createElement("th",null,"Propri\xe9taire")),E&&E.map(e=>n.a.createElement("tr",{key:e.idCulture},n.a.createElement("td",null,e.nom),n.a.createElement("td",null,e.type),n.a.createElement("td",null,e.saison),n.a.createElement("td",null,e.prixAchat),n.a.createElement("td",null,e.prixVente),n.a.createElement("td",null,e.proprietaire)))),n.a.createElement("h1",{className:"title2"},"Liste des cultures sur parcelle"),n.a.createElement("p",{className:"desc2"},"Voici la liste des cultures sur parcelle avec leurs propri\xe9taires."),n.a.createElement("table",null,n.a.createElement("tr",null,n.a.createElement("th",null,"Terrain"),n.a.createElement("th",null,"Parcelle"),n.a.createElement("th",null,"Culture"),n.a.createElement("th",null,"Type"),n.a.createElement("th",null,"Quantit\xe9(en kg)"),n.a.createElement("th",null,"Date de plantation"),n.a.createElement("th",null,"Propri\xe9taire")),f&&f.map(e=>n.a.createElement("tr",{key:e.culture},n.a.createElement("td",null,e.terrain),n.a.createElement("td",null,e.idParcelle),n.a.createElement("td",null,e.culture),n.a.createElement("td",null,e.type),n.a.createElement("td",null,e.quantite),n.a.createElement("td",null,e.date),n.a.createElement("td",null,e.proprietaire))))),n.a.createElement("section",{className:"MidRight2"},n.a.createElement("aside",null,n.a.createElement("form",{method:"get",onSubmit:t=>{t.preventDefault(),(t=>{const{selectedParcelle:a,selectedType:r,selectedProprietaire:n}=t,l="Tous"===a&&"Tous"===r&&"Tous"===n,s=l?e:e.filter(e=>("Tous"===r||e.type===r)&&("Tous"===a||e.idParcelle===a)&&("Tous"===n||e.proprietaire===n)),c=l?m:m.filter(e=>("Tous"===r||e.type===r)&&("Tous"===a||e.idParcelle===a)&&("Tous"===n||e.proprietaire===n));h(s),w(c)})(v)}},n.a.createElement("h1",null,"Filtrer par :"),n.a.createElement("p",null,"Parcelle :"," ",n.a.createElement("select",{name:"selectedParcelle",id:"p1",onChange:N,value:v.selectedParcelle},n.a.createElement("option",{value:"Tous"},"Tous"),o&&o.map(e=>n.a.createElement("option",{key:e.idParcelle,value:e.idParcelle},e.idParcelle)))),n.a.createElement("p",null,"Culture :"," ",n.a.createElement("select",{name:"selectedType",id:"p2",onChange:N,value:v.selectedType},n.a.createElement("option",{value:"Tous"},"Tous"),a&&a.map(e=>n.a.createElement("option",{key:e.idType,value:e.nom},e.nom)))),n.a.createElement("p",null,"Propri\xe9taire :"," ",n.a.createElement("select",{name:"selectedProprietaire",id:"p3",onChange:N,value:v.selectedProprietaire},n.a.createElement("option",{value:"Tous"},"Tous"),s&&s.map(e=>n.a.createElement("option",{key:e.pseudo,value:e.pseudo},e.pseudo)))),n.a.createElement(d,{text:"Valider"}))))),n.a.createElement(u,{copyright:"\xa9 Tous droits r\xe9serv\xe9s. Farm Game 2024"}))};var O=function(e){const t=Object(o.o)();return n.a.createElement("section",{className:"profilMenu"},n.a.createElement("article",null,n.a.createElement("div",{className:"navLeft"},n.a.createElement("i",{className:e.icon})),n.a.createElement("div",{className:"navRight"},n.a.createElement("p",null,e.pseudo))),n.a.createElement("nav",null,n.a.createElement("p",{className:"firstNav"},n.a.createElement(d,{link:e.lien1,text:e.text1})),n.a.createElement("p",null,n.a.createElement(d,{link:e.lien2,text:e.text2,fonction:()=>{e.lien2(),t(e.link)}}))))};var x=function(e){return n.a.createElement("header",{className:"header2"},n.a.createElement("div",{className:"LeftTop"},n.a.createElement("a",{href:e.link},n.a.createElement("img",{src:e.logo,alt:e.description}))),n.a.createElement("div",{className:"RightTop"},n.a.createElement(O,{icon:e.icon,pseudo:e.pseudo,lien1:e.lien1,text1:e.text1,lien2:e.lien2,fonction:e.fonction,text2:e.text2})))};var b=function(e){return n.a.createElement("div",{className:"welcomeContainer"},n.a.createElement("h1",null,e.text),e.children)};var T=function(e){return n.a.createElement("div",{className:"caroussel",id:"c2"},e.children)};var P=function(e){return n.a.createElement("div",{className:"card"},n.a.createElement("img",{src:e.pic,alt:e.desc}))};var L=function(e){return n.a.createElement("div",{className:"card2"},n.a.createElement("div",{className:"CardTop"},n.a.createElement("img",{src:e.pic,alt:e.description})),n.a.createElement("div",{className:"CardBottom"},n.a.createElement("p",{className:"First"},e.text1),n.a.createElement("p",null,e.text2)))};var k=()=>{const[e,t]=Object(r.useState)(null),[a,l]=Object(r.useState)(null),[s,c]=Object(r.useState)(null);return Object(r.useEffect)(()=>{document.title="Accueil - FrontOffice";const e=localStorage.getItem("userData"),a=JSON.parse(e);t(a),(async()=>{try{const t=await w(a[0].id);l(t);const r=await async function(e){try{const a=new URL("http://localhost:8080/userfirstterrains?user="+e),r=await fetch(a,{method:"GET",mode:"cors",headers:{"Content-Type":"application/x-www-form-urlencoded"}});if(!r.ok){const e=await r.json();return void(e&&e.error?alert(e.error):alert("Oups... Quelque chose s'est mal pass\xe9"))}const n=await r.json();if(!n||!n.error)return n;alert(n.error)}catch(t){console.error("Error:",t),alert("Oups... Quelque chose s'est mal pass\xe9")}}(a[0].id);c(r)}catch(e){console.error("Error fetching user culture:",e)}})()},[]),e?n.a.createElement("div",{className:"page"},n.a.createElement(x,{link:"/accueilFront",logo:"/assets/img/PNG/Logo.png",description:"Logo",icon:"fas fa-user-circle",pseudo:e[0].pseudo,lien1:"/ficheProfil",text1:"Voir ma fiche",lien2:v,text2:"Se d\xe9connecter"}),n.a.createElement("main",{className:"Landing"},n.a.createElement("section",{className:"MidLeft"},n.a.createElement(b,{text:"Bienvenue sur Farm Game"},n.a.createElement("p",null,"Vous \xeates actuellement dans le menu utilisateur de votre partie.",n.a.createElement("br",null),"Ici vous pouvez faire une simulation, faire une culture sur parcelle, voir l'historique de vos simulations et interagir avec d'autres utilisateurs.",n.a.createElement("br",null),"Pour ex\xe9cuter ces actions, il vous suffit d'appuyer sur l'un des boutons ci-dessous."),n.a.createElement("section",null,n.a.createElement(d,{link:"/demandeSimulation",text:"Faire une simulation"}),n.a.createElement(d,{link:"/demandeParcelle",text:"Faire une culture"}),n.a.createElement(d,{link:"/historique",text:"Voir votre historique"}),n.a.createElement(d,{link:"/discussion",text:"Voir vos discussions"}))),n.a.createElement("section",{className:"BottomLeft"},s&&s.map(e=>n.a.createElement(L,{key:e.idTerrain,pic:"https://farmspring-production.up.railway.app/".concat(e.photo),description:e.localisation,text1:"Localisation: ".concat(e.localisation),text2:"Etat : ".concat(0===e.etat?"Non valid\xe9":1===e.etat?"Valid\xe9":e.etat)})))),n.a.createElement("section",{className:"MidRight"},n.a.createElement(T,null,a&&a.map(e=>n.a.createElement(P,{key:e.id,pic:"https://farmspring-production.up.railway.app/".concat(e.photo),desc:e.nom}))))),n.a.createElement(u,{copyright:"\xa9 Tous droits r\xe9serv\xe9s. Farm Game 2024"})):null};var q=function(e){return n.a.createElement("div",{className:"small-container"},n.a.createElement("section",{className:"Titling"},n.a.createElement("span",null,n.a.createElement("p",null,e.titre)),n.a.createElement("span",{className:"Stroke"}),n.a.createElement("span",{className:"Full"})),e.children)};var C=function(e){return n.a.createElement("div",{className:"profil"},n.a.createElement("section",{className:"profilTop"},n.a.createElement("article",null,n.a.createElement("div",{className:"navLeft"},n.a.createElement("i",{className:e.icon})),n.a.createElement("div",{className:"navRight"},n.a.createElement("p",null,e.pseudo)))),n.a.createElement("section",{className:"profilBottom"},n.a.createElement("p",null,e.text)))};var G=()=>{const[e,t]=Object(r.useState)(null),[a,l]=Object(r.useState)(null),[s,c]=Object(r.useState)(null),[o,i]=Object(r.useState)(null);return Object(r.useEffect)(()=>{document.title="Ma fiche";const e=localStorage.getItem("userData"),a=JSON.parse(e);t(a),(async()=>{try{const t=await w(a[0].id);l(t);const r=await async function(e){try{const a=new URL("http://localhost:8080/userterrains?user="+e),r=await fetch(a,{method:"GET",mode:"cors",headers:{"Content-Type":"application/x-www-form-urlencoded"}});if(!r.ok){const e=await r.json();return void(e&&e.error?alert(e.error):alert("Oups... Quelque chose s'est mal pass\xe9"))}const n=await r.json();if(!n||!n.error)return n;alert(n.error)}catch(t){console.error("Error:",t),alert("Oups... Quelque chose s'est mal pass\xe9")}}(a[0].id);c(r);const n=await async function(e){try{const a=new URL("http://localhost:8080/portefeuille?user="+e),r=await fetch(a,{method:"GET",mode:"cors",headers:{"Content-Type":"application/x-www-form-urlencoded"}});if(!r.ok){const e=await r.json();return void(e&&e.error?alert(e.error):alert("Oups... Quelque chose s'est mal pass\xe9"))}const n=await r.json();if(!n||!n.error)return n;alert(n.error)}catch(t){console.error("Error:",t),alert("Oups... Quelque chose s'est mal pass\xe9")}}(a[0].id);i(n)}catch(e){console.error("Error fetching user culture:",e)}})()},[]),e&&o?n.a.createElement("div",{className:"page"},n.a.createElement(x,{link:"/accueilFront",logo:"/assets/img/PNG/Logo.png",description:"Logo",icon:"fas fa-user-circle",pseudo:e[0].pseudo,lien1:"/ficheProfil",text1:"Voir ma fiche",lien2:v,text2:"Se d\xe9connecter"}),n.a.createElement("main",{className:"formInsClass"},n.a.createElement("section",{className:"FormLeft"},n.a.createElement("h1",null,"Fiche profil"),n.a.createElement("p",{className:"desc2"},"Voici les informations importantes sur votre profil."),n.a.createElement("section",{className:"fiche"},n.a.createElement(C,{icon:"fas fa-user-circle",pseudo:e[0].pseudo,text:"Portefeuille: ".concat(o[0].portefeuille," Ar")}))),n.a.createElement("section",{className:"SideLeft",id:"profilLeft"},n.a.createElement(T,null,s&&s.map(e=>n.a.createElement(P,{key:e.idTerrain,pic:"https://farmspring-production.up.railway.app/".concat(e.photo),desc:e.localisation})))),n.a.createElement("section",{className:"SideRight"},n.a.createElement(q,{titre:"Cultures"},a&&a.map(e=>n.a.createElement(L,{key:e.idCulture,pic:"https://farmspring-production.up.railway.app/".concat(e.photo),desc:e.nom,text1:e.nom}))))),n.a.createElement(u,{copyright:"\xa9 Tous droits r\xe9serv\xe9s. Farm Game 2024"})):null};var F=()=>{const[e,t]=Object(r.useState)(null),[a,l]=Object(r.useState)(null),[s,c]=Object(r.useState)(null),[o,i]=Object(r.useState)(null),[p,d]=Object(r.useState)(null),[E,h]=Object(r.useState)(null),[f,g]=Object(r.useState)(null);return Object(r.useEffect)(()=>{document.title="Statistiques";const e=localStorage.getItem("userData"),a=JSON.parse(e);t(a),(async()=>{try{const t=await async function(e){try{const a=new URL("http://localhost:8080/nbcultures?user="+e),r=await fetch(a,{method:"GET",mode:"cors",headers:{"Content-Type":"application/x-www-form-urlencoded"}});if(!r.ok){const e=await r.json();return void(e&&e.error?alert(e.error):alert("Oups... Quelque chose s'est mal pass\xe9"))}const n=await r.json();if(!n||!n.error)return n;alert(n.error)}catch(t){console.error("Error:",t),alert("Oups... Quelque chose s'est mal pass\xe9")}}(a[0].id);l(t);const r=await async function(e){try{const a=new URL("http://localhost:8080/nbterrains?user="+e),r=await fetch(a,{method:"GET",mode:"cors",headers:{"Content-Type":"application/x-www-form-urlencoded"}});if(!r.ok){const e=await r.json();return void(e&&e.error?alert(e.error):alert("Oups... Quelque chose s'est mal pass\xe9"))}const n=await r.json();if(!n||!n.error)return n;alert(n.error)}catch(t){console.error("Error:",t),alert("Oups... Quelque chose s'est mal pass\xe9")}}(a[0].id);c(r);const n=await async function(e){try{const a=new URL("http://localhost:8080/nbparcellemoyen?user="+e),r=await fetch(a,{method:"GET",mode:"cors",headers:{"Content-Type":"application/x-www-form-urlencoded"}});if(!r.ok){const e=await r.json();return void(e&&e.error?alert(e.error):alert("Oups... Quelque chose s'est mal pass\xe9"))}const n=await r.json();if(!n||!n.error)return n;alert(n.error)}catch(t){console.error("Error:",t),alert("Oups... Quelque chose s'est mal pass\xe9")}}(a[0].id);i(n);const s=await async function(e){try{const a=new URL("http://localhost:8080/surfacemoyenneparcelle?user="+e),r=await fetch(a,{method:"GET",mode:"cors",headers:{"Content-Type":"application/x-www-form-urlencoded"}});if(!r.ok){const e=await r.json();return void(e&&e.error?alert(e.error):alert("Oups... Quelque chose s'est mal pass\xe9"))}const n=await r.json();if(!n||!n.error)return n;alert(n.error)}catch(t){console.error("Error:",t),alert("Oups... Quelque chose s'est mal pass\xe9")}}(a[0].id);d(s);const o=await async function(e){try{const a=new URL("http://localhost:8080/nbsimulation?user="+e),r=await fetch(a,{method:"GET",mode:"cors",headers:{"Content-Type":"application/x-www-form-urlencoded"}});if(!r.ok){const e=await r.json();return void(e&&e.error?alert(e.error):alert("Oups... Quelque chose s'est mal pass\xe9"))}const n=await r.json();if(!n||!n.error)return n;alert(n.error)}catch(t){console.error("Error:",t),alert("Oups... Quelque chose s'est mal pass\xe9")}}(a[0].id);h(o);const u=await async function(e){try{const a=new URL("http://localhost:8080/rendement?user="+e),r=await fetch(a,{method:"GET",mode:"cors",headers:{"Content-Type":"application/x-www-form-urlencoded"}});if(!r.ok){const e=await r.json();return void(e&&e.error?alert(e.error):alert("Oups... Quelque chose s'est mal pass\xe9"))}const n=await r.json();if(!n||!n.error)return n;alert(n.error)}catch(t){console.error("Error:",t),alert("Oups... Quelque chose s'est mal pass\xe9")}}(a[0].id);g(u)}catch(e){console.error("Error fetching user culture:",e)}})()},[]),e?n.a.createElement("div",{className:"page"},n.a.createElement(x,{link:"/accueilBack",logo:"/assets/img/PNG/Logo.png",description:"Logo",icon:"fas fa-user-circle",pseudo:e[0].pseudo,lien1:"/ficheProfil",text1:"Voir ma fiche",lien2:v,text2:"Se d\xe9connecter"}),n.a.createElement("main",{className:"noGridMain"},n.a.createElement("h1",null,"Statistiques"),n.a.createElement("p",null,"Dans ce menu, vous pouvez voir les statistiques reli\xe9es \xe0 votre profil."),n.a.createElement(m,{id:"statsContainer"},n.a.createElement(m,{id:"statsLeft"},n.a.createElement("p",null,"Cultures"),a&&a.map(e=>n.a.createElement("h1",null,e.cultures))),n.a.createElement("section",{className:"MidLeft"},n.a.createElement(m,{id:"statsMidLeftTop"},n.a.createElement("p",null,"Terrains"),s&&s.map(e=>n.a.createElement("h1",null,e.terrains))),n.a.createElement(m,{id:"statsMidLeftBottom"},n.a.createElement("p",null,"Nombre moyen de parcelles / Terrain "),o&&o.map(e=>n.a.createElement("h1",null,e.parcelles)))),n.a.createElement(m,{id:"MidRight"},n.a.createElement("p",null,"Surface de parcelle",n.a.createElement("br",null),"moyenne (en m\xe8tre carr\xe9)"),p&&p.map(e=>n.a.createElement("h1",null,e.surface))),n.a.createElement("section",{className:"statsRight"},n.a.createElement(m,{id:"statsRightTop"},n.a.createElement("p",null,"Simulations"),E&&E.map(e=>n.a.createElement("h1",null,e.simulation))),n.a.createElement(m,{id:"statsRightBottom"},n.a.createElement("p",null,"Rendement moyen (%)"),f&&f.map(e=>n.a.createElement("h1",null,e.rendement)))))),n.a.createElement(u,{copyright:"\xa9 Tous droits r\xe9serv\xe9s. Farm Game 2024"})):null};var Q=()=>{const[e,t]=Object(r.useState)(null),[a,l]=Object(r.useState)(null),[s,c]=Object(r.useState)(null),[o,i]=Object(r.useState)(null),[m,p]=Object(r.useState)({parcelle:""});return Object(r.useEffect)(()=>{document.title="Faire une simulation";const e=localStorage.getItem("userData"),a=JSON.parse(e);t(a);const r=localStorage.getItem("saisonData"),n=JSON.parse(r);c(n),(async()=>{try{const t=await w(a[0].id);i(t);const r=await h(a[0].id);l(r)}catch(e){console.error("Error fetching user culture:",e)}})()},[]),e&&s?n.a.createElement("div",{className:"page"},n.a.createElement(x,{link:"/accueilFront",logo:"/assets/img/PNG/Logo.png",description:"Logo",icon:"fas fa-user-circle",pseudo:e[0].pseudo,lien1:"/ficheProfil",text1:"Voir ma fiche",lien2:v,text2:"Se d\xe9connecter"}),n.a.createElement("main",{className:"formInsClass"},n.a.createElement("section",{className:"FormLeft"},n.a.createElement("h1",null,"Faire une simulation"),n.a.createElement("p",{className:"desc2"},"Dans ce menu, vous pouvez faire une simulation.",n.a.createElement("br",null),"Pour faire cela veuillez remplir les champs ci-dessous."),n.a.createElement("form",{method:"post",className:"Insert",id:"Insert2",encType:"multipart/form-data",onSubmit:async e=>{e.preventDefault(),(new FormData).append("parcelle",e.target.parcelle.value),window.location.replace("/insertSimulation?parcelle="+e.target.parcelle.value)}},n.a.createElement("p",{id:"InsFirst"},"Parcelle :",n.a.createElement("select",{name:"parcelle",value:m.parcelle,onChange:e=>{const{name:t,value:a}=e.target;p({...m,[t]:a})}},a&&a.map(e=>n.a.createElement("option",{key:e.idParcelle,value:e.idParcelle},e.idParcelle)))),n.a.createElement(d,{text:"Valider"}))),n.a.createElement("section",{className:"SideLeft"},n.a.createElement(T,null,o&&o.map(e=>n.a.createElement(P,{key:e.id,pic:"https://farmspring-production.up.railway.app/".concat(e.photo),desc:e.nom})))),n.a.createElement("section",{className:"SideRight"},n.a.createElement(q,{titre:"Saisons"},n.a.createElement(L,{pic:"/assets/img/JPG/Winter.jpeg",text1:s[0].debut,text2:s[0].fin}),n.a.createElement(L,{pic:"/assets/img/JPG/Spring.jpeg",text1:s[1].debut,text2:s[1].fin}),n.a.createElement(L,{pic:"/assets/img/JPG/Summer.jpeg",text1:s[2].debut,text2:s[2].fin}),n.a.createElement(L,{pic:"/assets/img/JPG/Fall.jpeg",text1:s[3].debut,text2:s[3].fin})))),n.a.createElement(u,{copyright:"\xa9 Tous droits r\xe9serv\xe9s. Farm Game 2024"})):null};var D=()=>{const[e,t]=Object(r.useState)(null),[a,l]=Object(r.useState)(null),[s,c]=Object(r.useState)(null),[i,m]=Object(r.useState)(null),p=Object(o.m)(),E=new URLSearchParams(p.search).get("parcelle"),[h,g]=Object(r.useState)({parcelle:"",culture:"",quantite:"",date:""}),y=e=>{const{name:t,value:a}=e.target;g({...h,[t]:a})};return Object(r.useEffect)(()=>{document.title="Ins\xe9rer une simulation";const e=localStorage.getItem("userData"),a=JSON.parse(e);t(a);const r=localStorage.getItem("saisonData"),n=JSON.parse(r);l(n),(async()=>{try{const t=await w(a[0].id);c(t);const r=await f(a[0].id,E);m(r)}catch(e){console.error("Error fetching user culture:",e)}})()},[]),e&&a?n.a.createElement("div",{className:"page"},n.a.createElement(x,{link:"/accueilFront",logo:"/assets/img/PNG/Logo.png",description:"Logo",icon:"fas fa-user-circle",pseudo:e[0].pseudo,lien1:"/ficheProfil",text1:"Voir ma fiche",lien2:v,text2:"Se d\xe9connecter"}),n.a.createElement("main",{className:"formInsClass"},n.a.createElement("section",{className:"FormLeft"},n.a.createElement("h1",null,"Ins\xe9rer une simulation"),n.a.createElement("p",{className:"desc2"},"Dans ce menu, vous pouvez faire votre simulation.",n.a.createElement("br",null),"Pour faire cela veuillez remplir les champs ci-dessous."),n.a.createElement("form",{method:"post",className:"Insert",encType:"multipart/form-data",onSubmit:async e=>{e.preventDefault();const t=new FormData;t.append("parcelle",e.target.parcelle.value),t.append("culture",e.target.culture.value),t.append("quantite",e.target.quantite.value),t.append("date",e.target.date.value),await async function(e){try{const a="http://localhost:8080/insertSimulation",r=await fetch(a,{method:"POST",mode:"cors",body:e});if(!r.ok){const e=await r.json();return void(e&&e.error?alert(e.error):alert("Oups... Quelque chose s'est mal pass\xe9"))}const n=r.headers.get("content-type");if(n&&n.includes("application/json")){const e=await r.json();e&&e.error?alert(e.error):e&&e.success&&window.location.replace("/accueilFront")}else window.location.replace("/accueilFront")}catch(t){console.error("Error:",t),alert("Oups... Quelque chose s'est mal pass\xe9")}}(t)}},n.a.createElement("p",{id:"InsFirst2"},"Culture :",n.a.createElement("select",{id:"cul",name:"culture",value:h.culture,onChange:y},i&&i.map(e=>n.a.createElement("option",{key:e.type,value:e.type},e.culture)))),n.a.createElement("p",null,"Quantit\xe9 : ",n.a.createElement("input",{id:"pA",type:"number",name:"quantite",value:h.quantite,onChange:y})),n.a.createElement("p",null,"Date de culture : ",n.a.createElement("input",{id:"dN",type:"date",name:"date",value:h.date,onChange:y})),n.a.createElement("input",{type:"hidden",name:"parcelle",value:E}),n.a.createElement(d,{text:"Valider"}))),n.a.createElement("section",{className:"SideLeft"},n.a.createElement(T,null,s&&s.map(e=>n.a.createElement(P,{key:e.id,pic:"https://farmspring-production.up.railway.app/".concat(e.photo),desc:e.nom})))),n.a.createElement("section",{className:"SideRight"},n.a.createElement(q,{titre:"Saisons"},n.a.createElement(L,{pic:"/assets/img/JPG/Winter.jpeg",text1:a[0].debut,text2:a[0].fin}),n.a.createElement(L,{pic:"/assets/img/JPG/Spring.jpeg",text1:a[1].debut,text2:a[1].fin}),n.a.createElement(L,{pic:"/assets/img/JPG/Summer.jpeg",text1:a[2].debut,text2:a[2].fin}),n.a.createElement(L,{pic:"/assets/img/JPG/Fall.jpeg",text1:a[3].debut,text2:a[3].fin})))),n.a.createElement(u,{copyright:"\xa9 Tous droits r\xe9serv\xe9s. Farm Game 2024"})):null};var R=()=>{const[e,t]=Object(r.useState)(null),[a,l]=Object(r.useState)(null),[s,c]=Object(r.useState)(null),[i,m]=Object(r.useState)(null),p=Object(o.m)(),E=new URLSearchParams(p.search).get("parcelle"),[h,g]=Object(r.useState)({parcelle:"",culture:"",quantite:"",date:""}),y=e=>{const{name:t,value:a}=e.target;g({...h,[t]:a})};return Object(r.useEffect)(()=>{document.title="Ins\xe9rer une plantation";const e=localStorage.getItem("userData"),a=JSON.parse(e);t(a);const r=localStorage.getItem("saisonData"),n=JSON.parse(r);l(n),(async()=>{try{const t=await w(a[0].id);c(t);const r=await f(a[0].id,E);m(r)}catch(e){console.error("Error fetching user culture:",e)}})()},[]),e&&a?n.a.createElement("div",{className:"page"},n.a.createElement(x,{link:"/accueilFront",logo:"/assets/img/PNG/Logo.png",description:"Logo",icon:"fas fa-user-circle",pseudo:e[0].pseudo,lien1:"/ficheProfil",text1:"Voir ma fiche",lien2:v,text2:"Se d\xe9connecter"}),n.a.createElement("main",{className:"formInsClass"},n.a.createElement("section",{className:"FormLeft"},n.a.createElement("h1",null,"Ins\xe9rer une simulation"),n.a.createElement("p",{className:"desc2"},"Dans ce menu, vous pouvez faire votre simulation.",n.a.createElement("br",null),"Pour faire cela veuillez remplir les champs ci-dessous."),n.a.createElement("form",{method:"post",className:"Insert",encType:"multipart/form-data",onSubmit:async e=>{e.preventDefault();const t=new FormData;t.append("parcelle",e.target.parcelle.value),t.append("culture",e.target.culture.value),t.append("quantite",e.target.quantite.value),t.append("date",e.target.date.value),t.append("utilisateur",e.target.utilisateur.value),await async function(e){try{const a="http://localhost:8080/insertUserParcelleCulture",r=await fetch(a,{method:"POST",mode:"cors",body:e});if(!r.ok){const e=await r.json();return void(e&&e.error?alert(e.error):alert("Oups... Quelque chose s'est mal pass\xe9"))}const n=r.headers.get("content-type");if(n&&n.includes("application/json")){const e=await r.json();e&&e.error?alert(e.error):e&&e.success&&window.location.replace("/accueilFront")}else window.location.replace("/accueilFront")}catch(t){console.error("Error:",t),alert("Oups... Quelque chose s'est mal pass\xe9")}}(t)}},n.a.createElement("p",{id:"InsFirst2"},"Culture :",n.a.createElement("select",{id:"cul",name:"culture",value:h.culture,onChange:y},i&&i.map(e=>n.a.createElement("option",{key:e.type,value:e.type},e.culture)))),n.a.createElement("p",null,"Quantit\xe9 : ",n.a.createElement("input",{id:"pA",type:"number",name:"quantite",value:h.quantite,onChange:y})),n.a.createElement("p",null,"Date de culture : ",n.a.createElement("input",{id:"dN",type:"date",name:"date",value:h.date,onChange:y})),n.a.createElement("input",{type:"hidden",name:"parcelle",value:E}),n.a.createElement("input",{type:"hidden",name:"utilisateur",value:e[0].id}),n.a.createElement(d,{text:"Valider"}))),n.a.createElement("section",{className:"SideLeft"},n.a.createElement(T,null,s&&s.map(e=>n.a.createElement(P,{key:e.id,pic:"https://farmspring-production.up.railway.app/".concat(e.photo),desc:e.nom})))),n.a.createElement("section",{className:"SideRight"},n.a.createElement(q,{titre:"Saisons"},n.a.createElement(L,{pic:"/assets/img/JPG/Winter.jpeg",text1:a[0].debut,text2:a[0].fin}),n.a.createElement(L,{pic:"/assets/img/JPG/Spring.jpeg",text1:a[1].debut,text2:a[1].fin}),n.a.createElement(L,{pic:"/assets/img/JPG/Summer.jpeg",text1:a[2].debut,text2:a[2].fin}),n.a.createElement(L,{pic:"/assets/img/JPG/Fall.jpeg",text1:a[3].debut,text2:a[3].fin})))),n.a.createElement(u,{copyright:"\xa9 Tous droits r\xe9serv\xe9s. Farm Game 2024"})):null};var I=()=>{const[e,t]=Object(r.useState)(null),[a,l]=Object(r.useState)(null),[s,c]=Object(r.useState)(null),[o,i]=Object(r.useState)(null),[m,p]=Object(r.useState)({parcelle:""});return Object(r.useEffect)(()=>{document.title="Faire une plantation";const e=localStorage.getItem("userData"),a=JSON.parse(e);t(a);const r=localStorage.getItem("saisonData"),n=JSON.parse(r);c(n),(async()=>{try{const t=await w(a[0].id);i(t);const r=await h(a[0].id);l(r)}catch(e){console.error("Error fetching user culture:",e)}})()},[]),e&&s?n.a.createElement("div",{className:"page"},n.a.createElement(x,{link:"/accueilFront",logo:"/assets/img/PNG/Logo.png",description:"Logo",icon:"fas fa-user-circle",pseudo:e[0].pseudo,lien1:"/ficheProfil",text1:"Voir ma fiche",lien2:v,text2:"Se d\xe9connecter"}),n.a.createElement("main",{className:"formInsClass"},n.a.createElement("section",{className:"FormLeft"},n.a.createElement("h1",null,"Planter sur une parcelle"),n.a.createElement("p",{className:"desc2"},"Dans ce menu, vous pouvez faire une plantation sur parcelle.",n.a.createElement("br",null),"Pour faire cela veuillez remplir les champs ci-dessous."),n.a.createElement("form",{method:"post",className:"Insert",id:"Insert2",encType:"multipart/form-data",onSubmit:async e=>{e.preventDefault(),(new FormData).append("parcelle",e.target.parcelle.value),window.location.replace("/insertPlantation?parcelle="+e.target.parcelle.value)}},n.a.createElement("p",{id:"InsFirst"},"Parcelle :",n.a.createElement("select",{name:"parcelle",value:m.parcelle,onChange:e=>{const{name:t,value:a}=e.target;p({...m,[t]:a})}},a&&a.map(e=>n.a.createElement("option",{key:e.idParcelle,value:e.idParcelle},e.idParcelle)))),n.a.createElement(d,{text:"Valider"}))),n.a.createElement("section",{className:"SideLeft"},n.a.createElement(T,null,o&&o.map(e=>n.a.createElement(P,{key:e.id,pic:"https://farmspring-production.up.railway.app/".concat(e.photo),desc:e.nom})))),n.a.createElement("section",{className:"SideRight"},n.a.createElement(q,{titre:"Saisons"},n.a.createElement(L,{pic:"/assets/img/JPG/Winter.jpeg",text1:s[0].debut,text2:s[0].fin}),n.a.createElement(L,{pic:"/assets/img/JPG/Spring.jpeg",text1:s[1].debut,text2:s[1].fin}),n.a.createElement(L,{pic:"/assets/img/JPG/Summer.jpeg",text1:s[2].debut,text2:s[2].fin}),n.a.createElement(L,{pic:"/assets/img/JPG/Fall.jpeg",text1:s[3].debut,text2:s[3].fin})))),n.a.createElement(u,{copyright:"\xa9 Tous droits r\xe9serv\xe9s. Farm Game 2024"})):null};var J=()=>{const[e,t]=Object(r.useState)(null),[a,l]=Object(r.useState)(null),[s,c]=Object(r.useState)(null);return Object(r.useEffect)(()=>{document.title="Historique des simulations";const e=localStorage.getItem("userData"),a=JSON.parse(e);t(a),(async()=>{try{const t=await async function(e){try{const a=new URL("http://localhost:8080/simulations?user="+e),r=await fetch(a,{method:"GET",mode:"cors",headers:{"Content-Type":"application/x-www-form-urlencoded"}});if(!r.ok){const e=await r.json();return void(e&&e.error?alert(e.error):alert("Oups... Quelque chose s'est mal pass\xe9"))}const n=await r.json();if(!n||!n.error)return n;alert(n.error)}catch(t){console.error("Error:",t),alert("Oups... Quelque chose s'est mal pass\xe9")}}(a[0].id);l(t);const r=await w(a[0].id);c(r)}catch(e){console.error("Error fetching user culture:",e)}})()},[]),e?n.a.createElement("div",{className:"page"},n.a.createElement(x,{link:"/accueilFront",logo:"/assets/img/PNG/Logo.png",description:"Logo",icon:"fas fa-user-circle",pseudo:e[0].pseudo,lien1:"/ficheProfil",text1:"Voir ma fiche",lien2:v,text2:"Se d\xe9connecter"}),n.a.createElement("main",{className:"Landing"},n.a.createElement("section",{className:"MidLeft2"},n.a.createElement("h1",{className:"title2"},"Historique des simulations"),n.a.createElement("p",{className:"desc2"},"Voici l'historique de vos simulations."),n.a.createElement("table",null,n.a.createElement("tr",null,n.a.createElement("th",null,"Date"),n.a.createElement("th",null,"Culture"),n.a.createElement("th",null,"Parcelle"),n.a.createElement("th",null,"Quantit\xe9")),a&&a.map(e=>n.a.createElement("tr",{key:e.id},n.a.createElement("td",null,e.date),n.a.createElement("td",null,e.culture),n.a.createElement("td",null,e.parcelle),n.a.createElement("td",null,e.quantite))))),n.a.createElement("section",{className:"MidRight"},n.a.createElement(T,null,s&&s.map(e=>n.a.createElement(P,{key:e.id,pic:"https://farmspring-production.up.railway.app/".concat(e.photo),desc:e.nom}))))),n.a.createElement(u,{copyright:"\xa9 Tous droits r\xe9serv\xe9s. Farm Game 2024"})):null};var M=function(e){return n.a.createElement("div",{className:"discu"},n.a.createElement("h1",null,e.titre),n.a.createElement("p",{className:"desc3"},"Ici vous pouvez int\xe9ragir, \xe9changer et n\xe9gocier avec les autres utilisateurs.",n.a.createElement("br",null),"Vos discussions sont visibles ci-dessous."),n.a.createElement("main",{className:"window"},e.children))};var U=function(e){return n.a.createElement("section",{className:"left"},n.a.createElement("header",{className:"leftTop"},n.a.createElement("h1",null,n.a.createElement("i",{className:e.icon}),e.text)),e.children)};var V=function(e){return n.a.createElement("article",{className:"userMessage",onClick:()=>{e.onClick(e.text)}},n.a.createElement("div",{className:"leftMid"},n.a.createElement("i",{className:e.icon})),n.a.createElement("div",{className:"rightMid"},n.a.createElement("h3",null,e.text)))};var z=function(e){return n.a.createElement("section",{className:"right"},n.a.createElement("header",{className:"rightTop"},n.a.createElement("div",{className:"leftMid"},n.a.createElement("i",{className:e.icon})),n.a.createElement("div",{className:"rightMid"},n.a.createElement("h3",null,e.text))),e.children)};var B=function(e){return n.a.createElement("div",{className:e.classe},n.a.createElement("p",{className:"message-text"},e.text),n.a.createElement("span",{className:"message-time"},e.text2))};var A=()=>{const[e,t]=Object(r.useState)(null),[a,l]=Object(r.useState)(null),[s,c]=Object(r.useState)(null),[o,i]=Object(r.useState)(null),[m,p]=Object(r.useState)({receveur:"",envoyeur:"",contenu:""}),[d,E]=Object(r.useState)([]);Object(r.useEffect)(()=>{document.title="Discussions";const e=localStorage.getItem("userData"),a=JSON.parse(e);t(a),(async()=>{try{const t=await w(a[0].id);l(t);const r=await g();c(r)}catch(e){console.error("Error fetching user culture:",e)}})()},[]),Object(r.useEffect)(()=>{o&&(async()=>{try{const a=await async function(e,t){try{const r=new URL("http://localhost:8080/getMessageRecu?receveur=".concat(e,"&envoyeur=").concat(t)),n=await fetch(r,{method:"GET",mode:"cors",headers:{"Content-Type":"application/x-www-form-urlencoded"}});if(!n.ok){const e=await n.json();return e&&e.error?alert(e.error):alert("Oups... Quelque chose s'est mal pass\xe9"),[]}const l=await n.json();if(!l||!l.error)return l;alert(l.error)}catch(a){return console.error("Error:",a),alert("Oups... Quelque chose s'est mal pass\xe9"),[]}}(o,e[0].pseudo),r=await async function(e,t){try{const r=new URL("http://localhost:8080/getMessageEnvoye?envoyeur=".concat(e,"&receveur=").concat(t)),n=await fetch(r,{method:"GET",mode:"cors",headers:{"Content-Type":"application/x-www-form-urlencoded"}});if(!n.ok){const e=await n.json();return e&&e.error?alert(e.error):alert("Oups... Quelque chose s'est mal pass\xe9"),[]}const l=await n.json();if(!l||!l.error)return l;alert(l.error)}catch(a){return console.error("Error:",a),alert("Oups... Quelque chose s'est mal pass\xe9"),[]}}(e[0].pseudo,o),n=[...a,...r];n.sort((e,t)=>new Date(t.envoi)-new Date(e.envoi)),E(n)}catch(t){console.error("Error fetching messages:",t)}})()},[o]);return e?n.a.createElement("div",{className:"page"},n.a.createElement(x,{link:"/accueilFront",logo:"/assets/img/PNG/Logo.png",description:"Logo",icon:"fas fa-user-circle",pseudo:e[0].pseudo,lien1:"/ficheProfil",text1:"Voir ma fiche",lien2:v,text2:"Se d\xe9connecter"}),n.a.createElement("main",{className:"Landing"},n.a.createElement("section",{className:"MidLeft3"},n.a.createElement(M,{titre:"Vos discussions"},n.a.createElement(U,{text:"Discussions",icon:"fas fa-envelope-open-text"},s&&s.map(t=>n.a.createElement(V,{key:t.pseudo,icon:"fas fa-user-circle",text:t.pseudo,onClick:()=>(t=>{i(t),p({...m,receveur:t,envoyeur:e[0].pseudo})})(t.pseudo)}))),n.a.createElement(z,{icon:"fas fa-user-circle",text:o||e[0].pseudo},n.a.createElement("main",{className:"conv"},d.map((t,a)=>n.a.createElement(B,{key:a,classe:t.envoyeur===e[0].pseudo?"message sent":"message received",text:t.contenu,text2:"".concat(t.envoyeur," - ").concat(t.envoi)}))),n.a.createElement("div",{className:"windowBottom"},n.a.createElement("form",{method:"post",onSubmit:async e=>{e.preventDefault();const t=new FormData;t.append("receveur",m.receveur),t.append("envoyeur",m.envoyeur),t.append("contenu",m.contenu);const a={sender:m.envoyeur,recipient:m.receveur,content:m.contenu,timestamp:(new Date).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})};E([...d,a]),await async function(e){try{const a="http://localhost:8080/insertMessage",r=await fetch(a,{method:"POST",mode:"cors",body:e});if(!r.ok){const e=await r.json();return void(e&&e.error?alert(e.error):alert("Oups... Quelque chose s'est mal pass\xe9"))}const n=r.headers.get("content-type");if(n&&n.includes("application/json")){const e=await r.json();e&&e.error?alert(e.error):e&&e.success&&console.log("Message envoy\xe9")}else console.log("Message envoy\xe9")}catch(t){console.error("Error:",t),alert("Oups... Quelque chose s'est mal pass\xe9")}}(t),p({...m,contenu:""})}},n.a.createElement("input",{type:"text",name:"contenu",placeholder:"Votre message...",onChange:e=>{const{name:t,value:a}=e.target;p({...m,[t]:a})},value:m.contenu}),n.a.createElement("input",{type:"hidden",name:"envoyeur",value:m.envoyeur}),n.a.createElement("input",{type:"hidden",name:"receveur",value:m.receveur}),n.a.createElement("button",null,n.a.createElement("i",{className:"fas fa-paper-plane"}))))))),n.a.createElement("section",{className:"MidRight"},n.a.createElement(T,null,a&&a.map(e=>n.a.createElement(P,{key:e.id,pic:"https://farmspring-production.up.railway.app/".concat(e.photo),desc:e.nom}))))),n.a.createElement(u,{copyright:"\xa9 Tous droits r\xe9serv\xe9s. Farm Game 2024"})):null};var W=function(){return n.a.createElement(c.a,null,n.a.createElement(o.c,null,n.a.createElement(o.a,{path:"/connexion",element:n.a.createElement(y,null)}),n.a.createElement(o.a,{path:"/inscription",element:n.a.createElement(N,null)}),n.a.createElement(o.a,{path:"/",element:n.a.createElement(j,null)}),n.a.createElement(o.a,{path:"/accueilFront",element:n.a.createElement(k,null)}),n.a.createElement(o.a,{path:"/ficheProfil",element:n.a.createElement(G,null)}),n.a.createElement(o.a,{path:"/stats",element:n.a.createElement(F,null)}),n.a.createElement(o.a,{path:"/demandeSimulation",element:n.a.createElement(Q,null)}),n.a.createElement(o.a,{path:"/demandeParcelle",element:n.a.createElement(I,null)}),n.a.createElement(o.a,{path:"/insertSimulation",element:n.a.createElement(D,null)}),n.a.createElement(o.a,{path:"/insertPlantation",element:n.a.createElement(R,null)}),n.a.createElement(o.a,{path:"/historique",element:n.a.createElement(J,null)}),n.a.createElement(o.a,{path:"/discussion",element:n.a.createElement(A,null)})))};var H=e=>{e&&e instanceof Function&&a.e(3).then(a.bind(null,20)).then(t=>{let{getCLS:a,getFID:r,getFCP:n,getLCP:l,getTTFB:s}=t;a(e),r(e),n(e),l(e),s(e)})};s.a.createRoot(document.getElementById("root")).render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(W,null))),H()}],[[9,1,2]]]);
//# sourceMappingURL=main.cc3e1b9a.chunk.js.map