{"ast":null,"code":"export async function checkLogin(mail, password) {\n  try {\n    const params = new URLSearchParams();\n    params.append('mail', mail);\n    params.append('motDePasse', password);\n    const url = new URL('http://localhost:8080/Farm_Game/checkLogin');\n    url.search = params.toString();\n    const response = await fetch(url, {\n      method: 'GET',\n      mode: 'cors',\n      headers: {\n        'Content-Type': 'application/x-www-form-urlencoded'\n      }\n    });\n    if (!response.ok) {\n      const errorData = await response.json();\n      if (errorData && errorData.error) {\n        alert(errorData.error);\n      } else {\n        alert('Oups... Quelque chose s\\'est mal passé');\n      }\n      return;\n    }\n    const userData = await response.json();\n    if (userData && userData.error) {\n      alert(userData.error);\n    } else {\n      localStorage.setItem('userData', JSON.stringify(userData));\n      await getType();\n      window.location.href = '/accueilBack';\n    }\n  } catch (error) {\n    console.error('Error:', error);\n    alert('Oups... Quelque chose s\\'est mal passé');\n  }\n}\nexport async function insertUser(nom, prenom, naissance, mail, mdp, pseudo) {\n  try {\n    const params = new URLSearchParams();\n    params.append('nom', nom);\n    params.append('prenom', prenom);\n    params.append('naissance', naissance);\n    params.append('mail', mail);\n    params.append('mdp', mdp);\n    params.append('pseudo', pseudo);\n    const url = new URL('http://localhost:8080/Farm_Game/insertUser');\n    url.search = params.toString();\n    const response = await fetch(url, {\n      method: 'POST',\n      mode: 'cors',\n      headers: {\n        'Content-Type': 'application/x-www-form-urlencoded'\n      }\n    });\n    if (!response.ok) {\n      const errorData = await response.json();\n      if (errorData && errorData.error) {\n        alert(errorData.error);\n      } else {\n        alert('Oups... Quelque chose s\\'est mal passé');\n      }\n      return;\n    }\n    const contentType = response.headers.get('content-type');\n    if (contentType && contentType.includes('application/json')) {\n      const responseData = await response.json();\n      if (responseData && responseData.error) {\n        alert(responseData.error);\n      } else {\n        if (responseData && responseData.success) {\n          window.location.replace('/');\n        }\n      }\n    } else {\n      window.location.replace('/');\n    }\n  } catch (error) {\n    console.error('Error:', error);\n    alert('Oups... Quelque chose s\\'est mal passé');\n  }\n}\nexport async function getType() {\n  try {\n    const url = new URL('http://localhost:8080/Farm_Game/types');\n    const response = await fetch(url, {\n      method: 'GET',\n      mode: 'cors',\n      headers: {\n        'Content-Type': 'application/x-www-form-urlencoded'\n      }\n    });\n    if (!response.ok) {\n      const errorData = await response.json();\n      if (errorData && errorData.error) {\n        alert(errorData.error);\n      } else {\n        alert('Oups... Quelque chose s\\'est mal passé');\n      }\n      return;\n    }\n    const typeData = await response.json();\n    if (typeData && typeData.error) {\n      alert(userData.error);\n    } else {\n      localStorage.setItem('typeData', JSON.stringify(typeData));\n    }\n  } catch (error) {\n    console.error('Error:', error);\n    alert('Oups... Quelque chose s\\'est mal passé');\n  }\n}","map":{"version":3,"names":["checkLogin","mail","password","params","URLSearchParams","append","url","URL","search","toString","response","fetch","method","mode","headers","ok","errorData","json","error","alert","userData","localStorage","setItem","JSON","stringify","getType","window","location","href","console","insertUser","nom","prenom","naissance","mdp","pseudo","contentType","get","includes","responseData","success","replace","typeData"],"sources":["/Users/samoela/Desktop/Cours/S5/Web/Techno Front-End et Mobiles/Projets/Farm_Game/src/assets/js/Function.js"],"sourcesContent":["export async function checkLogin(mail, password) {\n  try {\n    const params = new URLSearchParams();\n    params.append('mail', mail);\n    params.append('motDePasse', password);\n\n    const url = new URL('http://localhost:8080/Farm_Game/checkLogin');\n    url.search = params.toString();\n\n    const response = await fetch(url, {\n      method: 'GET',\n      mode: 'cors',\n      headers: {\n        'Content-Type': 'application/x-www-form-urlencoded',\n      },\n    });\n\n    if (!response.ok) {\n      const errorData = await response.json();\n\n      if (errorData && errorData.error) {\n        alert(errorData.error);\n      } \n\n      else {\n        alert('Oups... Quelque chose s\\'est mal passé');\n      }\n      return;\n    }\n\n    const userData = await response.json();\n\n    if (userData && userData.error) {\n      alert(userData.error);\n    } \n    else {\n      localStorage.setItem('userData', JSON.stringify(userData));\n      await getType();\n      window.location.href = '/accueilBack';\n    }\n  } \n\n  catch (error) {\n    console.error('Error:', error);\n    alert('Oups... Quelque chose s\\'est mal passé');\n  }\n}\n\nexport async function insertUser(nom, prenom, naissance, mail, mdp, pseudo) {\n  try {\n    const params = new URLSearchParams();\n    params.append('nom', nom);\n    params.append('prenom', prenom);\n    params.append('naissance', naissance);\n    params.append('mail', mail);\n    params.append('mdp', mdp);\n    params.append('pseudo', pseudo);\n\n    const url = new URL('http://localhost:8080/Farm_Game/insertUser');\n    url.search = params.toString();\n\n    const response = await fetch(url, {\n      method: 'POST',\n      mode: 'cors',\n      headers: {\n        'Content-Type': 'application/x-www-form-urlencoded',\n      },\n    });\n\n    if (!response.ok) {\n      const errorData = await response.json();\n\n      if (errorData && errorData.error) {\n        alert(errorData.error);\n      } \n\n      else {\n        alert('Oups... Quelque chose s\\'est mal passé');\n      }\n      return;\n    }\n\n    const contentType = response.headers.get('content-type');\n    if (contentType && contentType.includes('application/json')) {\n      const responseData = await response.json();\n      if (responseData && responseData.error) {\n          alert(responseData.error);\n      } \n      else {\n          if (responseData && responseData.success) {\n              window.location.replace('/');\n          }\n      }\n    } \n    else {\n      window.location.replace('/');\n    } \n  }\n  catch (error) {\n    console.error('Error:', error);\n    alert('Oups... Quelque chose s\\'est mal passé');\n  }\n}\n\nexport async function getType() {\n  try {\n    const url = new URL('http://localhost:8080/Farm_Game/types');\n\n    const response = await fetch(url, {\n      method: 'GET',\n      mode: 'cors',\n      headers: {\n        'Content-Type': 'application/x-www-form-urlencoded',\n      },\n    });\n\n    if (!response.ok) {\n      const errorData = await response.json();\n\n      if (errorData && errorData.error) {\n        alert(errorData.error);\n      } \n\n      else {\n        alert('Oups... Quelque chose s\\'est mal passé');\n      }\n      return;\n    }\n\n    const typeData = await response.json();\n\n    if (typeData && typeData.error) {\n      alert(userData.error);\n    } \n    else {\n      localStorage.setItem('typeData', JSON.stringify(typeData));\n    }\n  } \n\n  catch (error) {\n    console.error('Error:', error);\n    alert('Oups... Quelque chose s\\'est mal passé');\n  }\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}